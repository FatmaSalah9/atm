"use strict";(self.webpackChunkatm_mangment=self.webpackChunkatm_mangment||[]).push([[627],{5644:(b,c,r)=>{r.r(c),r.d(c,{GovernmentComponent:()=>f});var e=r(5879),u=r(6814),l=r(6223),g=r(8431),m=r(7394),v=r(8569),d=r(3999),p=r(7285);let h=(()=>{class o{constructor(){this.arabicRegex=/^[\u0600-\u06FF\s]*$/}onKeyPress(t){this.arabicRegex.test(t.key)||t.preventDefault()}static#e=this.\u0275fac=function(n){return new(n||o)};static#n=this.\u0275dir=e.lG2({type:o,selectors:[["","appAllowArabicOnly",""]],hostBindings:function(n,i){1&n&&e.NdJ("keypress",function(s){return i.onKeyPress(s)})},standalone:!0})}return o})(),y=(()=>{class o{constructor(){this.englishRegex=/^[a-zA-Z\s]*$/}onKeyPress(t){this.englishRegex.test(t.key)||t.preventDefault()}static#e=this.\u0275fac=function(n){return new(n||o)};static#n=this.\u0275dir=e.lG2({type:o,selectors:[["","appAllowEnglishOnly",""]],hostBindings:function(n,i){1&n&&e.NdJ("keypress",function(s){return i.onKeyPress(s)})},standalone:!0})}return o})();var A=r(8575);let f=(()=>{class o{constructor(t){this.governmentService=t,this.modalService=(0,e.f3M)(p.FF),this.cityNameAr="",this.cityNameEn="",this.governoratiesList=[],this.isView=!1,this.subscription=new m.w0}ngOnInit(){this.getGovernoraties()}ngOnDestroy(){this.subscription.unsubscribe()}getGovernoraties(){this.subscription.add(this.governmentService.getGovernoraties().subscribe(t=>{this.governoratiesList=t}))}onGovernorateChange(t){this.governorateId=t.governorateId}saveCity(){const t={governorateId:this.governorateId,cityNameL1:this.cityNameAr,cityNameL2:this.cityNameEn,createUserId:0};console.log(t),this.governmentService.saveCity(t).subscribe(n=>{console.log("City saved successfully",n)},n=>{console.error("Error saving city",n)})}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(A.k))};static#n=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-government"]],inputs:{isView:"isView"},standalone:!0,features:[e.jDz],decls:25,vars:34,consts:[[1,"row"],[1,"col-12"],["for","governorate",1,"required","my-1"],["bindLabel","governorateNameL1","bindValue","governorateId",3,"clearable","name","ngModel","items","searchable","required","notFoundText","ngModelChange","change"],[1,"col-12","col-md-6"],["ngDefaultControl","","appAllowArabicOnly","",3,"name","label","required","ngModel","inputText","disabled","ngModelChange"],["cityNameArInput","ngModel"],["ngDefaultControl","","appAllowEnglishOnly","",3,"name","label","required","ngModel","inputText","disabled","ngModelChange"],["cityNameEnInput","ngModel"],[1,"row","py-3"],[1,"btn","btn-dark",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"div",0)(6,"div",1)(7,"label",2),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"ng-select",3),e.NdJ("ngModelChange",function(s){return i.governorateId=s})("change",function(s){return i.onGovernorateChange(s)}),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",4)(13,"app-text-input",5,6),e.NdJ("ngModelChange",function(s){return i.cityNameAr=s}),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",4)(17,"app-text-input",7,8),e.NdJ("ngModelChange",function(s){return i.cityNameEn=s}),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div",9)(21,"div",1)(22,"button",10),e.NdJ("click",function(){return i.saveCity()}),e._uU(23),e.ALo(24,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,22,"cities.addNew")),e.xp6(5),e.Oqu(e.lcZ(9,24,"cities.governorate")),e.xp6(2),e.Q6J("clearable",!0)("name","governorate")("ngModel",i.governorateId)("items",i.governoratiesList)("searchable",!0)("required",!0)("notFoundText",e.lcZ(11,26,"cities.noDataFound")),e.xp6(3),e.Q6J("name","cityNameAr")("label",e.lcZ(15,28,"cities.cityNameAr"))("required",!0)("ngModel",i.cityNameAr)("inputText",i.cityNameAr)("disabled",i.isView),e.xp6(4),e.Q6J("name","cityNameEn")("label",e.lcZ(19,30,"cities.cityNameEn"))("required",!1)("ngModel",i.cityNameEn)("inputText",i.cityNameEn)("disabled",i.isView),e.xp6(6),e.Oqu(e.lcZ(24,32,"cities.save")))},dependencies:[u.ez,v.t,l.u5,l.Fj,l.JJ,l.Q7,l.On,g.A0,g.w9,d.aw,d.X$,h,y]})}return o})()}}]);