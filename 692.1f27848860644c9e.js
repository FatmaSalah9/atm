"use strict";(self.webpackChunkatm_mangment=self.webpackChunkatm_mangment||[]).push([[692],{5277:(h,d,a)=>{a.d(d,{J:()=>g});var e=a(9862),o=a(5879);let g=(()=>{class t{constructor(){this.baseUrl="http://waleed81-001-site1.jtempurl.com",this.httpClient=(0,o.f3M)(e.eN)}createCompany(s){return this.httpClient.post(`${this.baseUrl}/Company/CreateCompany`,s)}updateData(s,l){return this.httpClient.put(`${this.baseUrl}/Company/UpdateCompany?CompanyId=${s}`,l)}getData(){return this.httpClient.get(`${this.baseUrl}/Company/GetAllCompanies`)}getAllRepresentativesForSpeceificCompany(s){return this.httpClient.get(`${this.baseUrl}/Company/GetAllRepresentativesForSpeceificCompany?CompanyDataId=${s}`)}getAllEmployeeForSpeceificCompany(s){return this.httpClient.get(`${this.baseUrl}/Company/GetAllEmployeeForSpeceificCompany?CompanyDataId=${s}`)}getAllAdmins(){return this.httpClient.get(`${this.baseUrl}/Company/GetAllAdmins`)}deleteData(s,l){return this.httpClient.delete(`${this.baseUrl}/Company/DeleteCompany?UserId=${s}&CompanyId=${l}`)}getCompaniesProgramSetting(){return this.httpClient.get(`${this.baseUrl}/Company/GetCompaniesProgramSetting`)}static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},6707:(h,d,a)=>{a.d(d,{Cq:()=>e,LF:()=>o,YJ:()=>u,tL:()=>g});class e{constructor(){this.representativeId=null}}class o{constructor(){this.dateFrom=`${(new Date).getUTCFullYear()}-${(new Date).getUTCMonth()+1}-${(new Date).getDate()}`,this.dateTo=`${(new Date).getUTCFullYear()}-${(new Date).getUTCMonth()+1}-${(new Date).getDate()}`,this.representativeId=null,this.orderStatusId=null,this.bankDataId=null,this.governorateCodeId=null,this.cityCodeId=null,this.startDateMdule={day:(new Date).getDate(),month:(new Date).getUTCMonth()+1,year:(new Date).getUTCFullYear()},this.endDateMdule={day:(new Date).getDate(),month:(new Date).getUTCMonth()+1,year:(new Date).getUTCFullYear()}}}class u{constructor(){this.dateFrom=`${(new Date).getUTCFullYear()}-${(new Date).getUTCMonth()+1}-${(new Date).getDate()}`,this.dateTo=`${(new Date).getUTCFullYear()}-${(new Date).getUTCMonth()+1}-${(new Date).getDate()}`,this.orderStatusId=null,this.governorateCodeId=null,this.bankDataId=null,this.cityCodeId=null,this.representativeId=null,this.startDateMdule={day:(new Date).getDate(),month:(new Date).getUTCMonth()+1,year:(new Date).getUTCFullYear()},this.endDateMdule={day:(new Date).getDate(),month:(new Date).getUTCMonth()+1,year:(new Date).getUTCFullYear()}}}class g{constructor(){this.comment="",this.footerId="",this.userId=0,this.isVisited1_IsDamaged2=0}}},7692:(h,d,a)=>{a.r(d),a.d(d,{RepresentativesReportComponent:()=>U});var e=a(5879),o=a(6814),u=a(882),g=a(5277),t=a(6223),C=a(8431),s=a(6707);const l=function(n){return{"ng-error":n}};function _(n,c){if(1&n){const r=e.EpF();e.TgZ(0,"ng-select",20,21),e.NdJ("ngModelChange",function(p){e.CHM(r);const m=e.oxw();return e.KtG(m.representativesReport.representativeId=p)}),e.qZA()}if(2&n){const r=e.oxw(),i=e.MAs(5);e.Q6J("clearable",!0)("name","city")("items",r.representativiesList)("ngModel",r.representativesReport.representativeId)("required",!0)("notFoundText","No Data Founded")("searchable",!0)("ngClass",e.VKq(8,l,!r.representativesReport.representativeId&&i.submitted))}}function D(n,c){1&n&&(e.TgZ(0,"p",22),e._uU(1," Required "),e.qZA())}function v(n,c){if(1&n&&(e.TgZ(0,"tr")(1,"td",17),e._uU(2),e.qZA(),e.TgZ(3,"td",17),e._uU(4),e.qZA()()),2&n){const r=c.$implicit,i=c.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(r.companyName)}}function T(n,c){1&n&&(e.TgZ(0,"h3",17),e._uU(1,"No data found"),e.qZA())}let U=(()=>{class n{ngOnInit(){this.getAllRepresentativesForSpeceificCompany()}constructor(){this.userData=null,this.representativesReport=new s.Cq,this.dataTable=[],this.representativiesList=[],this.companyService=(0,e.f3M)(g.J),this.userService=(0,e.f3M)(u.K),this.userService.getUserData().subscribe(r=>{this.userData=r})}getReport(){}getAllRepresentativesForSpeceificCompany(){this.companyService.getAllRepresentativesForSpeceificCompany(this.userData?this.userData.CompanyId:"").subscribe(r=>{r&&(this.representativiesList=r)})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-representatives-report"]],standalone:!0,features:[e.jDz],decls:50,vars:4,consts:[[1,"row"],[1,"col-12"],[1,"p-3",3,"ngSubmit"],["workPlaneForm","ngForm"],[1,"col-12","col-md-6"],["for","city",1,"required","my-1"],["ngDefaultControl","","bindLabel","userName","bindValue","id",3,"clearable","name","items","ngModel","required","notFoundText","searchable","ngClass","ngModelChange",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"col-12","text-end"],["type","submit",1,"btn","btn-dark","shadow-lg","mt-3","col-3"],[1,"row","mt-3"],[1,"btn","btn-dark"],[1,"fa-solid","fa-table"],[1,"col-12","pt-2"],[1,"table","table-responsive","table-striped"],[1,"bg-light","sticky-top","top-0","table-dark"],[1,"bg-dark"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["ngDefaultControl","","bindLabel","userName","bindValue","id",3,"clearable","name","items","ngModel","required","notFoundText","searchable","ngClass","ngModelChange"],["representative","ngModel"],[1,"text-danger"]],template:function(i,p){if(1&i){const m=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Work planes reports"),e.qZA()()(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(m);const f=e.MAs(5);return e.KtG(f.valid&&p.getReport())}),e.TgZ(6,"div",0)(7,"div",4)(8,"div")(9,"label",5),e._uU(10,"Representative "),e.qZA(),e.YNc(11,_,2,10,"ng-select",6),e.YNc(12,D,2,0,"p",7),e.qZA()(),e.TgZ(13,"div",8)(14,"button",9),e._uU(15," Show data "),e.qZA()()()(),e.TgZ(16,"div",10)(17,"div",8)(18,"button",11),e._uU(19," Export XLSX "),e._UZ(20,"i",12),e.qZA()(),e.TgZ(21,"div",13)(22,"table",14)(23,"thead",15)(24,"tr",16)(25,"th",17),e._uU(26,"Work Plan Id"),e.qZA(),e.TgZ(27,"th",17),e._uU(28,"From Date"),e.qZA(),e.TgZ(29,"th",17),e._uU(30,"To Date"),e.qZA(),e.TgZ(31,"th",17),e._uU(32,"Machine Id"),e.qZA(),e.TgZ(33,"th",17),e._uU(34,"Machine Code"),e.qZA(),e.TgZ(35,"th",17),e._uU(36,"Order Status Id"),e.qZA(),e.TgZ(37,"th",17),e._uU(38,"Comment Visit"),e.qZA(),e.TgZ(39,"th",17),e._uU(40,"Comment Visit"),e.qZA(),e.TgZ(41,"th",17),e._uU(42,"Damages Comment"),e.qZA(),e.TgZ(43,"th",17),e._uU(44,"Damages Comment"),e.qZA(),e.TgZ(45,"th",17),e._uU(46,"Image"),e.qZA()()(),e.TgZ(47,"tbody"),e.YNc(48,v,5,2,"tr",18),e.qZA()(),e.YNc(49,T,2,0,"h3",19),e.qZA()()}if(2&i){const m=e.MAs(5);e.xp6(11),e.Q6J("ngIf",p.representativiesList),e.xp6(1),e.Q6J("ngIf",!p.representativesReport.representativeId&&m.submitted),e.xp6(36),e.Q6J("ngForOf",p.dataTable),e.xp6(1),e.Q6J("ngIf",0==p.dataTable.length)}},dependencies:[o.ez,o.mk,o.sg,o.O5,t.u5,t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.On,t.F,C.A0,C.w9]})}return n})()}}]);