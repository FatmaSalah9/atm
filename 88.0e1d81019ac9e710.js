"use strict";(self.webpackChunkatm_mangment=self.webpackChunkatm_mangment||[]).push([[88],{6088:(I,C,l)=>{l.r(C),l.d(C,{ListOfBanksComponent:()=>z});var f=l(1778),k=l(6283),e=l(5879),m=l(6814),g=l(3103),u=l(7285),p=l(8431),h=l(8569),d=l(6223),y=l(7361);class L{constructor(){this.createUserId=1,this.imageFile=null,this.companyDataId="",this.banknameL1="",this.cityCodeId=null,this.bankAddress="",this.bankMobil="",this.bankPhone="",this.bankEmail="",this.description="",this.governorateCodeId=null}}class x{constructor(){this.bankId="",this.userName="",this.email="",this.phone="",this.confirmPassword="",this.password="",this.createUserId=null,this.roleId=4}}var q=l(5277),v=l(8810),U=l(7588),D=l(6828),_=l(882),Z=l(7394),B=l(9315),b=l(3999);function S(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ng-select",29,30),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.formData.governorateCodeId=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getCities(n.formData.governorateCodeId))})("clear",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.formData.cityCodeId=null)}),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("clearable",!0)("name","governorate")("items",t.governoratiesList)("ngModel",t.formData.governorateCodeId)("notFoundText",e.lcZ(2,8,"noData"))("searchable",!0)("required",!0)("disabled",t.isView)}}const M=function(o){return{"ng-error":o}};function J(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ng-select",31,32),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.formData.cityCodeId=n)}),e.ALo(2,"translate"),e.qZA()}if(2&o){const t=e.oxw(),a=e.MAs(7);e.Q6J("disabled",!t.formData.governorateCodeId)("clearable",!0)("name","city")("items",t.cities)("ngModel",t.formData.cityCodeId)("required",!0)("searchable",!0)("notFoundText",e.lcZ(2,10,"noData"))("disabled",t.isView||!t.formData.governorateCodeId)("ngClass",e.VKq(12,M,!t.formData.cityCodeId&&a.submitted))}}function F(o,c){1&o&&(e.TgZ(0,"p",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"required")," "))}function N(o,c){1&o&&(e.TgZ(0,"p",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"required")," "))}let A=(()=>{class o{constructor(){this.title="Add new bank",this.id="",this.isView=!1,this.formData=new L,this.listOfBanks=[],this.bankImage=null,this.modalService=(0,e.f3M)(u.FF),this.activeModal=(0,e.f3M)(u.Kz),this.bankService=(0,e.f3M)(f.y),this.lookupService=(0,e.f3M)(y.W),this.companyService=(0,e.f3M)(q.J),this.cities=[],this.companies=[],this.bankData=null,this.userData=null,this.userService=(0,e.f3M)(_.K),this.bankOwners=[],this.governoratiesList=[],this.subscriptions=new Z.w0}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnInit(){this.userService.getUserData().subscribe(t=>{t&&(this.userData=t)}),this.bankData?(this.bankImage=this.bankData.imageUrl,this.formData=this.bankData,this.bankData&&(this.formData.companyDataId=this.bankData.companyDataId,this.getBankAdmins(this.bankData.bankId),this.getStartUpData(this.bankData.bankId,this.bankData.governorateCodeId))):this.getGovernoraties()}getStartUpData(t,a){this.subscriptions.add(this.getForkData(t,a).subscribe(n=>{this.governoratiesList=n[0],this.cities=n[1]}))}getForkData(t,a){let n=this.userService.getGovernoraties(),r=this.bankService.getCitiesByGovernorateId(a);return(0,B.D)([n,r])}getGovernoraties(){this.userService.getGovernoraties().subscribe(t=>{t&&(this.governoratiesList=t)})}saveData(){this.id.length>0?this.updateData():this.addNewData()}addNewData(){const t=new FormData;t.append("imageFile",this.formData.imageFile),t.append("CreateUserId",this.userData?this.userData?.UserId.toString():""),t.append("CompanyDataId",this.userData?this.userData.CompanyId:""),t.append("BanknameL1",this.formData.banknameL1),t.append("CityCodeId",this.formData.cityCodeId?this.formData.cityCodeId?.toString():""),t.append("BankAddress",this.formData.bankAddress),t.append("BankMobil",this.formData.bankMobil),t.append("BankPhone",this.formData.bankPhone),t.append("BankEmail",this.formData.bankEmail),t.append("Description",this.formData.description),t.append("GovernorateCodeId",this.formData.governorateCodeId?this.formData.governorateCodeId?.toString():""),this.bankService.addNewData(t).subscribe(a=>{a&&this.activeModal.close(!0)})}updateData(){const t=new FormData;t.append("imageFile",this.formData.imageFile),t.append("Modifiedby",this.userData?this.userData.UserId.toString():""),t.append("CompanyDataId",this.formData.companyDataId),t.append("BanknameL1",this.formData.banknameL1),t.append("CityCodeId",this.formData.cityCodeId?this.formData.cityCodeId?.toString():""),t.append("BankAddress",this.formData.bankAddress),t.append("BankMobil",this.formData.bankMobil),t.append("BankPhone",this.formData.bankPhone),t.append("BankEmail",this.formData.bankEmail),t.append("Description",this.formData.description),t.append("GovernorateCodeId",this.formData.governorateCodeId?this.formData.governorateCodeId?.toString():""),this.bankService.updateBank(t,this.id).subscribe(a=>{a&&this.activeModal.close(!0)})}getData(){}getCities(t){t&&(this.formData.cityCodeId=null,this.bankService.getCitiesByGovernorateId(t).subscribe(a=>{a&&(this.cities=a)}))}getBankAdmins(t){this.bankService.getAllBankAdmins(t).subscribe(a=>{a&&(this.bankOwners=a)})}openCofirmDelete(t){this.modalService.open(g.n,{backdrop:"static",centered:!0}).result.then(n=>{n&&this.deleteAdmin(t)})}deleteAdmin(t){this.bankService.deleteBankAdmin(t).subscribe(a=>{a&&this.bankData&&this.getBankAdmins(this.bankData.bankId)})}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-update-bank"]],inputs:{title:"title",id:"id",isView:"isView",bankData:"bankData"},standalone:!0,features:[e.jDz],decls:54,vars:69,consts:[[1,"row","m-0","p-3"],[1,"col-9"],[1,"col-3","text-end","pt-2"],[1,"fa-solid","fa-xmark","text-danger","fs-4","pointer",3,"click"],[1,"p-3",3,"ngSubmit"],["bankForm","ngForm"],[1,"row"],[1,"col-12","col-md-6"],["ngDefaultControl","",3,"name","label","required","ngModel","currentForm","inputText","disabled","ngModelChange"],["companyName","ngModel"],["for","governorate",1,"my-1","required"],["ngDefaultControl","","bindLabel","governorateNameL1","bindValue","governorateId",3,"clearable","name","items","ngModel","notFoundText","searchable","required","disabled","ngModelChange","change","clear",4,"ngIf"],["for","city",1,"required","my-1"],["ngDefaultControl","","bindLabel","cityNameL1","bindValue","cityId",3,"disabled","clearable","name","items","ngModel","required","searchable","notFoundText","ngClass","ngModelChange",4,"ngIf"],["class","text-danger",4,"ngIf"],["bankAddress","ngModel"],["ngDefaultControl","",3,"inputMaxLength","minLength","name","label","ngModel","currentForm","disabled","inputText","ngModelChange"],["bankMobil","ngModel"],["ngDefaultControl","",3,"inputMaxLength","minLength","name","label","ngModel","currentForm","inputText","disabled","ngModelChange"],["bankPhone","ngModel"],["ngDefaultControl","",3,"name","ngModel","currentForm","inputEmail","disabled","ngModelChange"],["email","ngModel"],[1,"col-12","py-3"],["for","",1,"required"],["ngDefaultControl","",1,"form-control",3,"name","required","ngModel","ngClass","disabled","ngModelChange"],["description","ngModel"],[3,"curentImage","SelectImage"],[1,"col-12","text-end","my-3"],["type","submit",1,"btn","btn-dark","btn-md","shadow-lg","mt-3","col-3",3,"disabled"],["ngDefaultControl","","bindLabel","governorateNameL1","bindValue","governorateId",3,"clearable","name","items","ngModel","notFoundText","searchable","required","disabled","ngModelChange","change","clear"],["governorate","ngModel"],["ngDefaultControl","","bindLabel","cityNameL1","bindValue","cityId",3,"disabled","clearable","name","items","ngModel","required","searchable","notFoundText","ngClass","ngModelChange"],["city","ngModel"],[1,"text-danger"]],template:function(a,n){if(1&a){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.qZA()(),e.TgZ(4,"div",2)(5,"i",3),e.NdJ("click",function(){return n.activeModal.dismiss()}),e.qZA()()(),e.TgZ(6,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(r);const s=e.MAs(7);return e.KtG(s.valid&&n.saveData())}),e.TgZ(8,"div",6)(9,"div",7)(10,"app-text-input",8,9),e.NdJ("ngModelChange",function(s){return n.formData.banknameL1=s}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",7)(14,"div")(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,S,3,10,"ng-select",11),e.qZA()(),e.TgZ(19,"div",7)(20,"div")(21,"label",12),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,J,3,14,"ng-select",13),e.YNc(25,F,3,3,"p",14),e.qZA()(),e.TgZ(26,"div",7)(27,"app-text-input",8,15),e.NdJ("ngModelChange",function(s){return n.formData.bankAddress=s}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",7)(31,"app-input-number-only",16,17),e.NdJ("ngModelChange",function(s){return n.formData.bankMobil=s}),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",7)(35,"app-input-number-only",18,19),e.NdJ("ngModelChange",function(s){return n.formData.bankPhone=s}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",7)(39,"app-email-input",20,21),e.NdJ("ngModelChange",function(s){return n.formData.bankEmail=s}),e.qZA()(),e.TgZ(41,"div",22)(42,"label",23),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"textarea",24,25),e.NdJ("ngModelChange",function(s){return n.formData.description=s}),e.qZA(),e.YNc(47,N,3,3,"p",14),e.qZA(),e.TgZ(48,"div",7)(49,"app-input-image",26),e.NdJ("SelectImage",function(s){return n.formData.imageFile=s}),e.qZA()(),e.TgZ(50,"div",27)(51,"button",28),e._uU(52),e.ALo(53,"translate"),e.qZA()()()()}if(2&a){const r=e.MAs(7),i=e.MAs(46);e.xp6(3),e.Oqu(n.title),e.xp6(7),e.Q6J("name","userName")("label",e.lcZ(12,51,"bank.name"))("required",!0)("ngModel",n.formData.banknameL1)("currentForm",r)("inputText",n.formData.banknameL1)("disabled",n.isView),e.xp6(6),e.Oqu(e.lcZ(17,53,"bank.governorate")),e.xp6(2),e.Q6J("ngIf",n.governoratiesList),e.xp6(4),e.Oqu(e.lcZ(23,55,"bank.city")),e.xp6(2),e.Q6J("ngIf",n.listOfBanks),e.xp6(1),e.Q6J("ngIf",!n.formData.cityCodeId&&r.submitted),e.xp6(2),e.Q6J("name","bankAddress")("label",e.lcZ(29,57,"bank.address"))("required",!0)("ngModel",n.formData.bankAddress)("currentForm",r)("inputText",n.formData.bankAddress)("disabled",n.isView),e.xp6(4),e.Q6J("inputMaxLength",11)("minLength",11)("name","bankMobil")("label",e.lcZ(33,59,"bank.mobile"))("ngModel",n.formData.bankMobil)("currentForm",r)("disabled",n.isView)("inputText",n.formData.bankMobil),e.xp6(4),e.Q6J("inputMaxLength",11)("minLength",11)("name","bankPhone")("label",e.lcZ(37,61,"bank.phone"))("ngModel",n.formData.bankPhone)("currentForm",r)("inputText",n.formData.bankPhone)("disabled",n.isView),e.xp6(4),e.Q6J("name","email")("ngModel",n.formData.bankEmail)("currentForm",r)("inputEmail",n.formData.bankEmail)("disabled",n.isView),e.xp6(4),e.Oqu(e.lcZ(44,63,"bank.description")),e.xp6(2),e.Q6J("name","description")("required",!0)("ngModel",n.formData.description)("ngClass",e.VKq(67,M,(null==i.errors?null:i.errors.required)&&(r.submitted||i.touched)))("disabled",n.isView),e.xp6(2),e.Q6J("ngIf",(null==i.errors?null:i.errors.required)&&(r.submitted||i.touched)),e.xp6(2),e.Q6J("curentImage",n.bankImage),e.xp6(2),e.Q6J("disabled",n.isView),e.xp6(1),e.hij(" ",e.lcZ(53,65,"actions.save")," ")}},dependencies:[m.ez,m.mk,m.O5,p.A0,p.w9,h.t,d.u5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.On,d.F,v.q,U.y,D.d,b.aw,b.X$]})}return o})();var O=l(980);function E(o,c){1&o&&(e.TgZ(0,"small",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"bank.passwordError")," "))}function P(o,c){1&o&&(e.TgZ(0,"small",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"bank.requiredError")," "))}function Q(o,c){1&o&&(e.TgZ(0,"small",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"bank.requiredError")," "))}function G(o,c){1&o&&(e.TgZ(0,"small",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"bank.confirmPasswordError")," "))}const T=function(o){return{"border-danger":o}},w=function(o,c){return{"fa-eye":o,"fa-eye-slash":c}};let V=(()=>{class o{constructor(){this.bankId="",this.title="Add bank owner",this.subscription=new Z.w0,this.activeModal=(0,e.f3M)(u.Kz),this.userService=(0,e.f3M)(_.K),this.bankService=(0,e.f3M)(f.y),this.userData=null,this.owner=new x,this.showConfirmPassword=!1,this.showPassword=!1,this.userRoleService=(0,e.f3M)(O.J),this.userService.getUserData().subscribe(t=>{this.userData=t})}ngOnInit(){}register(){this.owner.bankId=this.bankId,this.owner.createUserId=this.userData?this.userData.UserId:0,this.bankService.createBankAdmins(this.owner).subscribe(t=>{t&&this.activeModal.close(t)})}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-bank-admin"]],inputs:{bankId:"bankId"},standalone:!0,features:[e.jDz],decls:49,vars:66,consts:[[1,"row","m-0","p-3"],[1,"col-9"],[1,"col-3","text-end","pt-2"],[1,"fa-solid","fa-xmark","text-danger","fs-4","pointer",3,"click"],[1,"p-4",3,"ngSubmit"],["registerForm","ngForm"],[1,"row"],[1,"col-12","col-md-4"],["ngDefaultControl","",3,"name","label","required","ngModel","currentForm","inputText","ngModelChange"],["userName","ngModel"],["ngDefaultControl","",3,"inputMaxLength","minLength","name","label","required","ngModel","currentForm","inputText","ngModelChange"],["ngDefaultControl","",3,"name","label","required","ngModel","currentForm","inputEmail","ngModelChange"],["address","ngModel"],[1,"position-relative","col-12","col-md-4"],["for","password",1,"font-500","required","my-1"],["name","password","required","","pattern","^(?=.*[A-Za-z])(?=.*\\d).{8,}$",1,"form-control","rounded-2",3,"type","ngModel","placeholder","ngClass","ngModelChange"],["password","ngModel"],[1,"password-toggle-icon","position-absolute","pointer",3,"click"],[1,"fa",3,"ngClass"],["class","text-muted text-danger",4,"ngIf"],["for","confirmPassword",1,"font-500","required","my-1"],["required","","name","confirmPassword",1,"form-control",3,"type","ngModel","placeholder","ngClass","ngModelChange"],["confirmPassword","ngModel"],[1,"password-toggle-icon","position-absolute",3,"click"],[1,"col-12","text-end"],["type","submit",1,"btn","btn-dark","shadow-lg","mt-3"],[1,"text-muted","text-danger"]],template:function(a,n){if(1&a){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",2)(6,"i",3),e.NdJ("click",function(){return n.activeModal.dismiss()}),e.qZA()()(),e.TgZ(7,"form",4,5),e.NdJ("ngSubmit",function(){e.CHM(r);const s=e.MAs(8);return e.KtG(s.valid&&n.register())}),e.TgZ(9,"div",6)(10,"div",7)(11,"app-text-input",8,9),e.NdJ("ngModelChange",function(s){return n.owner.userName=s}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",7)(15,"app-input-number-only",10,9),e.NdJ("ngModelChange",function(s){return n.owner.phone=s}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",7)(19,"app-email-input",11,12),e.NdJ("ngModelChange",function(s){return n.owner.email=s}),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"div",6)(23,"div",13)(24,"label",14),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",15,16),e.NdJ("ngModelChange",function(s){return n.owner.password=s}),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"span",17),e.NdJ("click",function(){return n.showPassword=!n.showPassword}),e._UZ(31,"i",18),e.qZA(),e.YNc(32,E,3,3,"small",19),e.YNc(33,P,3,3,"small",19),e.qZA(),e.TgZ(34,"div",13)(35,"label",20),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"input",21,22),e.NdJ("ngModelChange",function(s){return n.owner.confirmPassword=s}),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"span",23),e.NdJ("click",function(){return n.showConfirmPassword=!n.showConfirmPassword}),e._UZ(42,"i",18),e.qZA(),e.YNc(43,Q,3,3,"small",19),e.YNc(44,G,3,3,"small",19),e.qZA()(),e.TgZ(45,"div",24)(46,"button",25),e._uU(47),e.ALo(48,"translate"),e.qZA()()()}if(2&a){const r=e.MAs(8),i=e.MAs(28),s=e.MAs(39);e.xp6(3),e.Oqu(e.lcZ(4,38,"bank.titleAdmin")),e.xp6(8),e.Q6J("name","username")("label",e.lcZ(13,40,"bank.usernameLabel"))("required",!0)("ngModel",n.owner.userName)("currentForm",r)("inputText",n.owner.userName),e.xp6(4),e.Q6J("inputMaxLength",11)("minLength",11)("name","phone")("label",e.lcZ(17,42,"bank.phoneLabel"))("required",!0)("ngModel",n.owner.phone)("currentForm",r)("inputText",n.owner.phone),e.xp6(4),e.Q6J("name","email")("label",e.lcZ(21,44,"bank.emailLabel"))("required",!0)("ngModel",n.owner.email)("currentForm",r)("inputEmail",n.owner.email),e.xp6(6),e.Oqu(e.lcZ(26,46,"bank.passwordLabel")),e.xp6(2),e.s9C("type",n.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(29,48,"bank.passwordPlaceholder")),e.Q6J("ngModel",n.owner.password)("ngClass",e.VKq(56,T,(i.touched||r.submitted)&&i.errors)),e.xp6(4),e.Q6J("ngClass",e.WLB(58,w,n.showPassword,!n.showPassword)),e.xp6(1),e.Q6J("ngIf",(null==i||null==i.value?null:i.value.length)>0&&i.invalid&&(i.dirty||i.touched||r.submitted)),e.xp6(1),e.Q6J("ngIf",(i.touched||r.submitted)&&(null==i||null==i.errors?null:i.errors.required)),e.xp6(3),e.hij(" ",e.lcZ(37,50,"bank.confirmPasswordLabel")," "),e.xp6(2),e.s9C("type",n.showConfirmPassword?"text":"password"),e.s9C("placeholder",e.lcZ(40,52,"bank.confirmPasswordPlaceholder")),e.Q6J("ngModel",n.owner.confirmPassword)("ngClass",e.VKq(61,T,(s.touched||r.submitted)&&s.errors)),e.xp6(4),e.Q6J("ngClass",e.WLB(63,w,n.showConfirmPassword,!n.showConfirmPassword)),e.xp6(1),e.Q6J("ngIf",(s.touched||r.submitted)&&(null==s||null==s.errors?null:s.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==s||null==s.value?null:s.value.length)>0&&i.value!=s.value&&(s.dirty||s.touched||r.submitted)),e.xp6(3),e.Oqu(e.lcZ(48,54,"bank.saveButton"))}},dependencies:[m.ez,m.mk,m.O5,h.t,d.u5,d._Y,d.Fj,d.JJ,d.JL,d.Q7,d.c5,d.On,d.F,v.q,D.d,p.A0,b.aw,b.X$]})}return o})();var $=l(3519),K=l.n($);function R(o,c){if(1&o&&(e.TgZ(0,"th",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=c.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t))}}function j(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",11),e._uU(2),e.qZA(),e.TgZ(3,"td",11),e._uU(4),e.qZA(),e.TgZ(5,"td",11),e._uU(6),e.qZA(),e.TgZ(7,"td",11),e._uU(8),e.qZA(),e.TgZ(9,"td",11),e._uU(10),e.qZA(),e.TgZ(11,"td",11),e._uU(12),e.qZA(),e.TgZ(13,"td",11),e._uU(14),e.qZA(),e.TgZ(15,"td",12)(16,"div",13)(17,"div",14),e._UZ(18,"i",15),e.TgZ(19,"div",16)(20,"button",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.addNewOwner(r.bankId))}),e._UZ(21,"i",18),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"button",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.viewDataTable(r))}),e._UZ(25,"i",19),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"button",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.updateDataTable(r))}),e._UZ(29,"i",20),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit,i=e.oxw();return e.KtG(i.openCofirmDelete(r.bankId))}),e._UZ(33,"i",21),e._uU(34),e.ALo(35,"translate"),e.qZA()()()()()()}if(2&o){const t=c.$implicit,a=c.index;e.xp6(2),e.Oqu(a+1),e.xp6(2),e.Oqu(t.banknameL1),e.xp6(2),e.Oqu(t.bankAddress),e.xp6(2),e.Oqu(t.bankMobil),e.xp6(2),e.Oqu(t.bankPhone),e.xp6(2),e.Oqu(t.bankEmail),e.xp6(2),e.Oqu(t.description),e.xp6(8),e.hij(" ",e.lcZ(23,11,"bank.addOwner")," "),e.xp6(4),e.hij(" ",e.lcZ(27,13,"actions.view")," "),e.xp6(4),e.hij(" ",e.lcZ(31,15,"actions.update")," "),e.xp6(4),e.hij(" ",e.lcZ(35,17,"actions.delete")," ")}}let z=(()=>{class o{constructor(){this.direction="",this.cols=["#","bank.name","bank.address","bank.mobile","bank.phone","bank.email","bank.description",""],this.dataTable=[],this.modalService=(0,e.f3M)(u.FF),this.bankService=(0,e.f3M)(f.y),this.userId=1,this.userData=null,this.userService=(0,e.f3M)(_.K),this.translate=(0,e.f3M)(b.sK),this.userService.getUserData().subscribe(t=>{this.userData=t})}ngOnInit(){this.getAllData()}addNew(){const t=this.modalService.open(A,{backdrop:"static",centered:!0,size:"lg"});t.componentInstance.title="Add new bank",t.componentInstance.title=this.translate.instant("bank.addNew"),t.componentInstance.id="",t.result.then(a=>{a&&this.ngOnInit()})}onScrollDown(t){this.appendItemsToDataTable(),this.direction="scroll down"}updateDataTable(t){const a=this.modalService.open(A,{backdrop:"static",centered:!0,size:"lg"});a.componentInstance.title="Update bank",a.componentInstance.title=this.translate.instant("bank.updateTitle"),a.componentInstance.id=t.bankId,a.componentInstance.bankData=t,a.result.then(n=>{n&&this.ngOnInit()})}openCofirmDelete(t){this.modalService.open(g.n,{backdrop:"static",centered:!0}).result.then(n=>{n&&(this.deleteData(t),this.translate.get(["ALERTDeletSuccess.TITLE","ALERTDeletSuccess.MESSAGE","ALERTDeletSuccess.SUCCESS"]).subscribe(r=>{K().fire({text:r["ALERTDeletSuccess.MESSAGE"],icon:"success",confirmButtonText:r["ALERTDeletSuccess.SUCCESS"]})}))})}deleteData(t){this.bankService.deleteBank(this.userId,t).subscribe(a=>{a&&this.ngOnInit()})}getAllData(){this.bankService.getData().subscribe(t=>{this.dataTable=t})}appendItemsToDataTable(){}viewDataTable(t){const a=this.modalService.open(A,{backdrop:"static",centered:!0,size:"lg"});a.componentInstance.title="View bank",a.componentInstance.title=this.translate.instant("bank.viewTitle"),a.componentInstance.id=t.bankId,a.componentInstance.bankData=t,a.componentInstance.isView=!0}addNewOwner(t){const a=this.modalService.open(V,{size:"lg"});a.componentInstance.bankId=t,a.result.then(n=>{n&&this.ngOnInit()})}static#e=this.\u0275fac=function(a){return new(a||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-of-banks"]],standalone:!0,features:[e.jDz],decls:16,vars:9,consts:[[1,"row","m-0","pb-3"],[1,"col-9"],[1,"p-2"],[1,"col-3","text-end"],[1,"btn","btn-dark","m-3",3,"click"],["infinite-scroll","",1,"search-results-container",3,"scrollWindow","scrolled"],[1,"table","table-responsive","table-striped"],[1,"bg-light","sticky-top","top-0","table-dark"],[1,"bg-dark"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center"],["container","body",1,"text-end"],["container","body",1,"btn-group","me-3"],["ngbDropdown","","role","group","aria-label","Button group with nested dropdown",1,"btn-group"],["ngbDropdownToggle","",1,"fa-solid","fa-list","pointer"],["ngbDropdownMenu","",1,"dropdown-menu"],["ngbDropdownItem","",3,"click"],[1,"fa-solid","fa-user-secret"],[1,"fa-solid","fa-eye"],[1,"fa-regular","fa-pen-to-square","text-primary"],[1,"fa-solid","fa-trash","text-danger"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.addNew()}),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"div",5),e.NdJ("scrolled",function(i){return n.onScrollDown(i)}),e.TgZ(10,"table",6)(11,"thead",7)(12,"tr",8),e.YNc(13,R,3,3,"th",9),e.qZA()(),e.TgZ(14,"tbody"),e.YNc(15,j,36,19,"tr",10),e.qZA()()()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,5,"bank.title")),e.xp6(4),e.Oqu(e.lcZ(8,7,"bank.addNew")),e.xp6(2),e.Q6J("scrollWindow",!1),e.xp6(4),e.Q6J("ngForOf",n.cols),e.xp6(2),e.Q6J("ngForOf",n.dataTable))},dependencies:[m.ez,m.sg,k.Rq,k.Ry,u.XC,u.jt,u.iD,u.Vi,u.TH,b.aw,b.X$]})}return o})()},5277:(I,C,l)=>{l.d(C,{J:()=>m});var f=l(9862),k=l(5879);let m=(()=>{class g{constructor(){this.baseUrl="http://waleed81-001-site1.jtempurl.com",this.httpClient=(0,k.f3M)(f.eN)}createCompany(p){return this.httpClient.post(`${this.baseUrl}/Company/CreateCompany`,p)}updateData(p,h){return this.httpClient.put(`${this.baseUrl}/Company/UpdateCompany?CompanyId=${p}`,h)}getData(){return this.httpClient.get(`${this.baseUrl}/Company/GetAllCompanies`)}getAllRepresentativesForSpeceificCompany(p){return this.httpClient.get(`${this.baseUrl}/Company/GetAllRepresentativesForSpeceificCompany?CompanyDataId=${p}`)}getAllEmployeeForSpeceificCompany(p){return this.httpClient.get(`${this.baseUrl}/Company/GetAllEmployeeForSpeceificCompany?CompanyDataId=${p}`)}getAllAdmins(){return this.httpClient.get(`${this.baseUrl}/Company/GetAllAdmins`)}deleteData(p,h){return this.httpClient.delete(`${this.baseUrl}/Company/DeleteCompany?UserId=${p}&CompanyId=${h}`)}getCompaniesProgramSetting(){return this.httpClient.get(`${this.baseUrl}/Company/GetCompaniesProgramSetting`)}static#e=this.\u0275fac=function(h){return new(h||g)};static#t=this.\u0275prov=k.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()}}]);